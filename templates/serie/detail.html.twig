{% extends 'base.html.twig' %}

{% block body %}
    <style>
        body {
            background-image: linear-gradient(rgba(0,0,0, 0.5), rgba(0,0,0, 0.9)),
            url("{{ asset('resources/backdrops/' ~ serie.backdrop) }}")
        }
    </style>


    <h2>{{ serie.name }}</h2>
    <span class="badge bg-info">{{ serie.status }}</span>
    <span class="badge bg-info">{{ serie.firstAirDate|date('d/m/Y') }}</span>
    <br>
    <p>{{ serie.overview }}</p>
    <br>
    {% if is_granted('ROLE_CONTRIB') %}
        <div>
            <a href="{{ path('app_serie_update', { id: serie.id }) }}" class="btn btn-primary">Modifier</a>&nbsp;
            {% if is_granted('ROLE_ADMIN') %}
                <a href="{{ path('app_serie_delete', { id: serie.id, token: csrf_token('serie_delete' ~ serie.id) }) }}" class="btn btn-danger" onclick="return confirm('Etes vous vraiment sÃ»r ????')">Supprimer</a>
            {% endif %}
        </div>
    {% endif %}
    <section>
        <h3>Les Saisons:</h3>
        <ul>
            {% for season in serie.seasons %}
                <li>{{ season.number }} : {{ season.overview }} - {{ season.firstAirDate|date('d/m/Y') }}
                    {% if is_granted('ROLE_CONTRIB') %}
                        <a href="{{ path('app_season_update', {id: season.id}) }}">Modifier</a></li>
                    {% endif %}
            {% endfor %}
        </ul>
    </section>

{% endblock %}

{% block title %}{{ parent() }} | {{ serie.name }}{% endblock %}
